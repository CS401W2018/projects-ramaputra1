<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form Project</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>Form</h1>
    </header>
    <main>
      <div id="message"></div>
      <form action="form.html" method="post" id="myForm">
        <fieldset>
          <legend>User Information</legend>

          <!--Textbox-->
          <div class="form-box">
            <label for="fname">Full Name:</label>
            <input
              class="inputBox"
              type="text"
              id="fname"
              name="fullName"
              value="John Doe"
              required
            />
          </div>

          <!--Password-->
          <div class="form-box">
            <label for="password">Password:</label>
            <input
              class="inputBox"
              type="password"
              id="password"
              name="password"
              required
            />
          </div>

          <!--Email - HTML5-->
          <div class="form-box">
            <label for="email">Email:</label>
            <input
              class="inputBox"
              type="email"
              id="email"
              name="email"
              placeholder="email@host.com"
              required
            />
          </div>

          <!-- Radio Buttons-->
          <div class="radio-box">
            <label class="spacer">Gender:</label>
            <div class="container-inside">
              <input type="radio" id="male" name="gender" value="male" />
              <label class="radio-label" for="male">Male</label>
              <input type="radio" id="female" name="gender" value="female" />
              <label class="radio-label" for="female">Female</label>
            </div>
          </div>

          <!--Date HTML5-->
          <div class="form-box">
            <label for="dob">Date of Birth:</label>
            <input class="inputBox" type="date" id="dob" name="dateOfBirth" />
          </div>

          <!--Select Box-->
          <div class="form-box">
            <label for="country">Country:</label>
            <select class="inputBox" id="country" name="country">
              <option value="usa">United States</option>
              <option value="indonesia">Indonesia</option>
              <option value="malaysia">Malaysia</option>
              <option value="singapore">Singapore</option>
              <option value="japan">Japan</option>
              <option value="other">Other</option>
            </select>
          </div>

          <!--Textarean-->
          <div class="form-box">
            <label for="comments">Comments:</label>
            <textarea
              class="inputBox"
              id="comments"
              name="comments"
              rows="4"
              cols="30"
            ></textarea>
          </div>

          <!--Checkbox-->
          <div class="check-box">
            <label class="spacer" for="terms">Term:</label>
            <div class="container-inside">
              <input type="checkbox" id="terms" name="terms" required />
              <label for="terms">I agree to the terms and conditions</label>
            </div>
          </div>

          <!--Submit-->
          <div class="form-box">
            <div class="spacer"></div>
            <input class="inputBox submit" type="submit" value="Submit" />
          </div>
        </fieldset>
      </form>
    </main>

    <hr />
    <section>
      <h1>Engagement Questions</h1>

      <h3>1. What is JavaScript? How did it get its name?</h3>
      <p>
        About 1990's Invented, <br />
        Unique: Can run inside the browser. <br />
        And around that time there was a popular language owned by Sun
        Microsystems named Java, so they named it almost similar which is
        Javascript to gain the same popularity on marketing even they are really
        completely different, cause as we know that Js is a script language
        which is run in the DOM browser and Java is the really OOP language.
      </p>

      <h3>2. What are the two ways you can run JavaScript?</h3>
      <p>
        One of it is only run inside the browser, and we call it run in the DOM.
        <br />
        Nowadays, there's called Node.js you can run Javascript and can Run JS
        in your computer. <br />
        So, two ways, from DOM or Node.js
      </p>

      <h3>3. What was the most popular front-end js library?</h3>
      <p>
        Jquery Library. <br />
        It's still there, but not that much.
      </p>

      <h3>4. What is the most popular front-end js library today?</h3>
      <p>
        React. <br />
        Nowadays most of all application or website built by react, and a lot of
        job or internship opportunity required react to use.
      </p>
      <br /><br />
      <hr />
      <h1>Note</h1>
      <p>1. It's not the HTML doing the JS, but JS doing the HTML</p>
      <p>
        A lot of event, like click, and when the form get submitted THENNN, call
        the alert. <br />
        preventDefault is no submit
      </p>
    </section>
    <footer>
      <p>&copy;Rama Adi Putra, 2024.</p>
    </footer>

    <!--My Script-->
    <script>
      document
        .getElementById("myForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          //
          const fname = document.getElementById("fname").value;
          const email = document.getElementById("email").value;

          if (!fname || !email) {
            alert("Nahhh");
            return;
          }

          const formData = {
            fname: fname,
            email: email,
            // password: document.getElementById("password").value,
          };

          //2
          const xhr = new XMLHttpRequest(); //harusnya json... karna pake json, biar connect ke server, server apa? github.
          xhr.open("POST", "submit.json", true); //harus match the name sama nama .json mu
          xhr.setRequestHeader(
            "Content-Type",
            "application/json;charset=UTF-8" //kita send json infomation instead of xml, dan pake utf 8
          );
          xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
              //4 dan 200 adalah kode yang berarti succesfull dll
              const response = JSON.parse(xhr.responseText);
              document.getElementById("message").innerHTML = response.message;
              document.getElementById("myForm").innerHTML = "";
            } else if (xhr.readyState === 4) {
              alert("error ngaaabbbzzzz"); //kalo cuma 4 dan ga 200 ya error ngabz
            }
          };
          xhr.send(JSON.stringfy(formData)); //go ahead and send the data which is "formData"
          //2

          //xml beda sama json, json ambil alih

          //AJAX means asyncronize means out of order, jdi bukan fungsi yang muncul dlu diatas tpi console dlu, mboh ngpo

          console.log(formData);
          //
          // alert("Congrats!");
        });

      //
    </script>
  </body>
</html>
